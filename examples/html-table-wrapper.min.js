String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){"use strict";var r;if(null==this)throw new TypeError('"this" is null or not defined');var a=Object(this),i=a.length>>>0;if(0==i)return-1;var l=0|e;if(i<=l)return-1;for(r=Math.max(0<=l?l:i-Math.abs(l),0);r<i;r++)if(r in a&&a[r]===t)return r;return-1});var IEGeneralCompatibility={parseInt:function(t){"use strict";return"function"==typeof Number.parseInt?Number.parseInt(t):parseInt(t)},parseFloat:function(t){"use strict";return"function"==typeof Number.parseFloat?Number.parseFloat(t):parseFloat(t)},isNaN:function(t){"use strict";return"function"==typeof Number.isNaN?Number.isNaN(t):t!=t}},IE9Compatibility={};!function(t,e){"use strict";var r;for(r in t)e[r]=t[r]}(IEGeneralCompatibility,IE9Compatibility),IE9Compatibility.addClass=function(t,e){"use strict";var r;t.classList?t.classList.add(e):-1==(r=t.className.trim().split(/\s+/)).indexOf(e)&&(r.push(e),t.className=r.join(" "))},IE9Compatibility.removeClass=function(t,e){"use strict";var r,a;t.classList?t.classList.remove(e):-1!=(a=(r=t.className.trim().split(/\s+/)).indexOf(e))&&(r.splice(a,1),t.className=r.join(" "))},IE9Compatibility.hasClass=function(t,e){"use strict";return t.classList?t.classList.contains(e):-1!=t.className.trim().split(/\s+/).indexOf(e)};var IE8Compatibility={};function SimpleEventDispatcher(){"use strict";this.listeners={}}function IterationValue(t,e){"use strict";this.done=t,this.value=e}function ColumnValueSet(){"use strict";window.Set?this.values=new Set:(this.values=[],this.fallback=!0)}function ContextControl(t,e){"use strict";SimpleEventDispatcher.call(this),this.horizontalOffset=0===t||t?t:ContextControl.defaultHorizontalOffset,this.verticalOffset=0===e||e?e:ContextControl.defaultVerticalOffset}function HTMLTableWrapper(t){"use strict";if(!t||!t.tBodies||!t.tBodies.length)throw new ReferenceError("Table must be an defined and have a body.");this.table=t,this.initialOrder=HTMLTableWrapper.copy(t.tBodies[0].rows)}function HTMLTableWrapperControl(t,e,r){"use strict";this.columnIndex=t,this.contextControl=new ContextControl,this.parent=e,r&&(this.cellInterpreter=r)}function HTMLTableWrapperListener(t,e,r){"use strict";this.dataTable=t instanceof HTMLTableWrapper?dataTable:new HTMLTableWrapper(t),e&&(this.columnControlFactory=e),r&&(this.cellInterpreter=r),this.columnControls=[]}!function(t,e){"use strict";var r;for(r in t)e[r]=t[r]}(IE9Compatibility,IE8Compatibility),IE8Compatibility.allRegisteredHandlers=null,IE8Compatibility.addEventListener=function(t,e,r,a){"use strict";var i,l,o;if(t.addEventListener)t.addEventListener(e,r,a);else{if(a&&console&&console.warn&&console.warn("Falling back to attachEvent; useCapture/options will be ignored."),r&&"function"==typeof r.handleEvent){if(l=(l=IE8Compatibility.allRegisteredHandlers)||(IE8Compatibility.allRegisteredHandlers=[]),o=e.toLowerCase(),-1!==IE8Compatibility.getHandlerIndex(t,o,r))return;i=function(t){r.handleEvent(t)},l.push(new IE8Compatibility.IE8EventHandler(t,o,r,i))}else i=r;t.attachEvent("on"+e,i)}},IE8Compatibility.removeEventListener=function(t,e,r,a){"use strict";var i,l,o,n,s;if(t.removeEventListener)t.removeEventListener(e,r,a);else{if(a&&console&&console.warn&&console.warn("Falling back to detachEvent; useCapture/options will be ignored."),r&&"function"==typeof r.handleEvent){if(n=e.toLowerCase(),!(l=IE8Compatibility.allRegisteredHandlers)||-1===(o=IE8Compatibility.getHandlerIndex(t,n,r)))return;i=(s=l[o]).handlerFunction,l.splice(o,1),s.dispose()}else i=r;t.detachEvent("on"+e,i)}},IE8Compatibility.getEventTarget=function(t){"use strict";return"target"in t?t.target:t.srcElement},IE8Compatibility.extend=function(t){"use strict";var e;return Object.create?Object.create(t):((e=function(){}).prototype=t,new e)},IE8Compatibility.getTextContent=function(t){"use strict";var e;if("textContent"in t)return t.textContent;switch(t.nodeType){case 1:case 11:return(e=t.childNodes).length?IE8Compatibility._getTextContent(e):"";case 3:case 4:case 7:case 8:return t.nodeValue;case 2:return t.value;default:return null}},IE8Compatibility.setTextContent=function(t,e){"use strict";var r;if("textContent"in t)t.textContent=e;else switch(t.nodeType){case 1:case 11:for(r=t.childNodes;r.length;)t.removeChild(r[0]);t.appendChild(document.createTextNode(e));break;case 3:case 4:case 7:case 8:t.nodeValue=e;break;case 2:t.value=e}},IE8Compatibility._getTextContent=function(t){"use strict";var e,r,a,i;for(i="",e=0;e<t.length;++e)(a=(r=t[e]).childNodes).length&&(i+=IE8Compatibility._getTextContent(a)),3==r.nodeType&&(i+=r.nodeValue);return i},IE8Compatibility.getHandlerIndex=function(t,e,r){"use strict";var a,i,l;for(a=IE8Compatibility.allRegisteredHandlers,l=0;l<a.length;++l)if((i=a[l]).target===t&&i.type===e&&i.listener===r)return l;return-1},IE8Compatibility.IE8EventHandler=function(t,e,r,a){"use strict";this.target=t,this.type=e,this.listener=r,this.handlerFunction=a},IE8Compatibility.IE8EventHandler.prototype.dispose=function(){"use strict";this.target=this.listener=this.handlerFunction=null},SimpleEventDispatcher.processType=function(t){"use strict";if(!t)throw new ReferenceError("Event type must be defined (and have a length greater than 0).");if("string"!=typeof t&&!(t instanceof String))throw new TypeError("Event type must be a string.");return t.toLowerCase()},SimpleEventDispatcher.prototype.addEventListener=function(t,e,r){"use strict";var a;if(r&&console&&console.warn&&console.warn("Capture/bubble phase not supported by this event listener; events are simply dispatched to listeners in the order they are registered."),t=SimpleEventDispatcher.processType(t),!e)throw new ReferenceError("Listener must be defined.");if("function"!=typeof e.handleEvent&&"function"!=typeof e)throw new TypeError("Listener must either define a handleEvent function or be a function itself.");-1===(a=(a=this.listeners[t])||(this.listeners[t]=[])).indexOf(e)&&a.push(e)},SimpleEventDispatcher.prototype.removeEventListener=function(t,e,r){"use strict";var a,i;gh,r&&console&&console.warn&&console.warn("Capture/bubble phase not supported by this event listener; events are simply dispatched to listeners in the order they are registered."),t=SimpleEventDispatcher.processType(t),(a=this.listeners[t])&&-1!==(i=a.indexOf(e))&&a.splice(i,1)},SimpleEventDispatcher.prototype.dispatchEvent=function(t){"use strict";var e,r,a;if(!t)throw new ReferenceError("Event must be defined.");if("string"!=typeof t.type&&!(t.type instanceof String))throw new TypeError("Event must, at minimum, define a type property.");if(e=this.listeners[t.type.toLowerCase()])for(a=0;a<e.length;++a)"function"==typeof(r=e[a]).handleEvent?r.handleEvent(t):r(t)},SimpleEventDispatcher.SimpleEvent=function(t,e){"use strict";this.type=t,this.target=e,this.currentTarget=e},ColumnValueSet.prototype.fallback=!1,ColumnValueSet.prototype.add=function(t,e){"use strict";var r;r=this.values,e||(t=t.trim()),this.fallback?-1===r.indexOf(t)&&r.push(t):r.add(t)},ColumnValueSet.prototype.iterator=function(){"use strict";return this.fallback?new ColumnValueSet.FallbackIterator(this.values):this.values.values()},window.Symbol&&Symbol.iterator&&(ColumnValueSet.prototype[Symbol.iterator]=ColumnValueSet.prototype.iterator),ColumnValueSet.prototype.clear=function(){"use strict";var t;t=this.values,this.fallback?t.length=0:t.clear()},ColumnValueSet.FallbackIterator=function(t){"use strict";this.values=t,this.i=-1},ColumnValueSet.FallbackIterator.prototype.next=function(){"use strict";var t,e;return(t=++this.i)<(e=this.values).length?new IterationValue(!1,e[t]):new IterationValue(!0)},ContextControl.EVENT_TYPE_CREATE="create",ContextControl.contextElementClassName="context-control",ContextControl.dialogueOpenedClassName="context-control-opened",ContextControl.dialogueClosedClassName="context-control-closed",ContextControl.defaultHorizontalOffset=10,ContextControl.defaultVerticalOffset=10,ContextControl.createControl=function(){"use strict";var t;return(t=document.createElement("div")).className=ContextControl.contextElementClassName,t},ContextControl.getOffset=function(t){"use strict";var e=new ContextControl.OffsetCoordinates;return ContextControl._getOffset(t,e),e},ContextControl._getOffset=function(t,e){"use strict";null!=t&&(e.x+=t.offsetLeft,e.y+=t.offsetTop,ContextControl._getOffset(t.offsetParent,e))},ContextControl.prototype=IE8Compatibility.extend(SimpleEventDispatcher.prototype),ContextControl.prototype.controlElement=null,ContextControl.prototype.offsetElement=null,ContextControl.prototype.dispose=function(){"use strict";var t;t=this.controlElement,this.close(),t&&document.body.removeChild(t),this.controlElement=null,this.offsetElement=null},ContextControl.prototype.handleEvent=function(t){"resize"===t.type?this.position():console&&console.warn&&(console.warn("Unrecognized event: "+t.type),console.warn(t))},ContextControl.prototype.open=function(t){"use strict";var e;if(!t)throw new ReferenceError("Offset element must be defined.");(e=this.controlElement)||(e=this.controlElement=ContextControl.createControl(),document.body.appendChild(e),this.dispatchEvent(new SimpleEventDispatcher.SimpleEvent(ContextControl.EVENT_TYPE_CREATE,this))),this.offsetElement=t,IE8Compatibility.removeClass(e,ContextControl.dialogueClosedClassName),this.position(),IE8Compatibility.addEventListener(window,"resize",this,!1),IE8Compatibility.addClass(e,ContextControl.dialogueOpenedClassName)},ContextControl.prototype.position=function(){"use strict";var t,e,r;r=this.offsetElement,t=this.controlElement,r&&t&&(e=ContextControl.getOffset(r),t.style.left=e.x+this.horizontalOffset+"px",t.style.top=e.y+r.offsetHeight+this.verticalOffset+"px")},ContextControl.prototype.close=function(){"use strict";var t;(t=this.controlElement)&&(IE8Compatibility.removeClass(t,ContextControl.dialogueOpenedClassName),IE8Compatibility.removeEventListener(window,"resize",this,!1),IE8Compatibility.addClass(t,ContextControl.dialogueClosedClassName))},ContextControl.prototype.getControlElement=function(){"use strict";return this.controlElement},ContextControl.OffsetCoordinates=function(){"use strict";this.x=0,this.y=0},HTMLTableWrapper.filteredClassName="data-table-filtered",HTMLTableWrapper.copy=function(t){var e,r;for(e=[],r=0;r<t.length;++r)e.push(t[r]);return e},HTMLTableWrapper.prototype.sort=function(){"use strict";var s,t,e,r,a,i;if((s=arguments[0]instanceof Array?arguments[0]:arguments).length){for(e=0;e<s.length;++e){if(!(t=s[e]))throw new ReferenceError("Invalid reference supplied for sort descriptor at index "+e+": "+t);if("function"!=typeof t.compare)throw new TypeError("Sort descriptor does not define define the compare property (of type function) at index "+e)}for(a=(r=this.table.tBodies[0]).rows,(i=HTMLTableWrapper.copy(a)).sort(function(t,e){var r,a,i,l,o,n;for(n=0;n<s.length;++n)if(0!=(o="number"==typeof(a=(r=s[n]).columnIndex)&&0<a?(i=t.cells[a],l=e.cells[a],r.compare(i,l)):r.compare(t,e)))return o;return 0});a.length;)r.removeChild(a[0]);for(e=0;e<i.length;++e)r.appendChild(i[e])}else this.clearSort()},HTMLTableWrapper.prototype.filter=function(){"use strict";var t,e,r,a,i,l,o,n,s;if((t=arguments[0]instanceof Array?arguments[0]:arguments).length){for(r=0;r<t.length;++r){if(!(e=t[r]))throw new ReferenceError("Invalid reference supplied for filter descriptor at index "+r);if("function"!=typeof e.include)throw new TypeError("Filter descriptor does not define the include property (of type function) at index "+r)}for(a=this.table.tBodies[0].rows,r=0;r<a.length;++r){for(n=(i=a[r]).cells,l=!1,o=0;o<t.length;++o)if(!("number"==typeof(s=(e=t[o]).columnIndex)&&0<s?e.include(n[s]):e.include(i))){l=!0;break}l?IE8Compatibility.addClass(i,HTMLTableWrapper.filteredClassName):IE8Compatibility.removeClass(i,HTMLTableWrapper.filteredClassName)}}else this.clearFilter()},HTMLTableWrapper.prototype.clearFilter=function(){"use strict";var t,e;for(e=this.table.tBodies[0].rows,t=0;t<e.length;++t)IE8Compatibility.removeClass(e[t],HTMLTableWrapper.filteredClassName)},HTMLTableWrapper.prototype.clearSort=function(){"use strict";var t,e,r,a;for(r=(e=this.table.tBodies[0]).rows,t=this.initialOrder;r.length;)e.removeChild(r[0]);for(a=0;a<t.length;++a)e.appendChild(t[a])},HTMLTableWrapper.prototype.getTableElement=function(){"use strict";return this.table},HTMLTableWrapper.prototype.getRows=function(t){"use strict";var e,r,a,i;if(e=this.table.tBodies[0].rows,t)return e;for(i=[],a=0;a<e.length;++a)r=e[a],IE8Compatibility.hasClass(r,HTMLTableWrapper.filteredClassName)||i.push(r);return i},HTMLTableWrapperControl.controlClassName="data-table-column-options",HTMLTableWrapperControl.SORT_ORDER_NONE=1,HTMLTableWrapperControl.SORT_ORDER_ASCENDING=2,HTMLTableWrapperControl.SORT_ORDER_DESCENDING=3,HTMLTableWrapperControl.CLICK_TARGETS_SELECTOR='input.column-type, input.sort-direction, input.filter-by-value-operator, input.filter-option-ignore-case, input[name="clear-filter-button"], input[name="select-all-cell-values"], input.column-value, .close-button',HTMLTableWrapperControl.i18nStrings={columnOptionsLabel:"Column Type",sortOptionsLabel:"Sort Order",inferDataType:"Infer",textOnlyDataType:"Text Only",noSortOrder:"None",ascendingSortOrder:"Ascending",descendingSortOrder:"Descending",filterTypeEnteredValue:"Filter By Entered Value",filterTypeCellValue:"Filter By Cell's Value",selectAll:"Select All",filterOptionEquals:"=",filterOptionEqualsToolTip:"Equals",filterOptionNotEquals:"!=",filterOptionNotEqualsToolTip:"Not Equals",filterOptionLessThan:"<",filterOptionLessThanToolTip:"Less Than",filterOptionGreaterThan:">",filterOptionGreaterThanToolTip:"Greater Than",filterOptionLessThanOrEqualTo:"<=",filterOptionLessThanOrEqualToToolTip:"Less Than or Equal To",filterOptionGreaterThanOrEqualTo:">=",filterOptionGreaterThanOrEqualToToolTip:"Greater Than or Equal To",filterOptionContains:"Contains",filterOptionIgnoreTextCase:"Ignore Case",filterDescriptionEquals:"Select cells whose value is equal to the entered value:",filterDescriptionNotEquals:"Select cells whose value is not equal to the entered value:",filterDescriptionLessThan:"Select cells whose value is less than the entered value:",filterDescriptionGreaterThan:"Select cells whose value is greater than the entered value:",filterDescriptionLessThanOrEqualTo:"Select cells whose value is less than or equal to the entered value:",filterDescriptionGreaterThanOrEqualTo:"Select cells whose value is greater than or equal to the entered value:",filterDescriptionContains:"Select cells whose value contain the entered value:",clearSearchFilters:"Reset Column",toolTipCloseDialogue:"Close"},HTMLTableWrapperControl.idCounter=0,HTMLTableWrapperControl.getIdBase=function(){"use strict";return"dataTable_"+HTMLTableWrapperControl.idCounter+++"_"},HTMLTableWrapperControl.hasUnchecked=function(t){"use strict";var e;for(e=0;e<t.length;++e)if(!t[e].checked)return!0;return!1},HTMLTableWrapperControl.setChecked=function(t,e){"use strict";var r,a;for(r=0;r<t.length;++r)(a=t[r]).checked=a.value===e},HTMLTableWrapperControl.checkCellInterpreter=function(t){"use strict";if("function"!=typeof t&&"function"!=typeof t.populateCellValues)throw new TypeError("Callback must either define a populateCellValues function, or be a function itself.")},HTMLTableWrapperControl.prototype.cellInterpreter=null,HTMLTableWrapperControl.prototype.init=function(){"use strict";IE8Compatibility.addEventListener(this.contextControl,"create",this,!1)},HTMLTableWrapperControl.prototype.dispose=function(){"use strict";var t,e,r,a;if(e=(t=this.contextControl).getControlElement())for(IE8Compatibility.removeEventListener(e.querySelector("input.filter-by-value-value"),"keyup",this,!1),r=e.querySelectorAll(HTMLTableWrapperControl.CLICK_TARGETS_SELECTOR),a=0;a<r.length;++a)IE8Compatibility.removeEventListener(r[a],"click",this,!1);IE8Compatibility.removeEventListener(t,"create",this,!1),t.dispose()},HTMLTableWrapperControl.prototype.handleEvent=function(t){"use strict";var e,r;switch(e=IE8Compatibility.getEventTarget(t),t.type){case"create":this.defineContent(e.getControlElement());break;case"click":if(IE8Compatibility.hasClass(e,"close-button"))this.contextControl.close();else if(IE8Compatibility.hasClass(e,"filter-by-value-operator"))IE8Compatibility.setTextContent(this.contextControl.getControlElement().querySelector(".filter-by-value-description"),this.getOperatorDescription()),this.updateParent();else if(IE8Compatibility.hasClass(e,"column-value"))(r=this.contextControl.getControlElement()).querySelector('input[name="select-all-cell-values"]').checked=!HTMLTableWrapperControl.hasUnchecked(r.querySelectorAll("input.column-value")),this.updateParent();else if(IE8Compatibility.hasClass(e,"column-type")||IE8Compatibility.hasClass(e,"sort-direction")||IE8Compatibility.hasClass(e,"filter-option-ignore-case"))this.updateParent();else switch(e.name){case"clear-filter-button":this.reset(),this.updateParent();break;case"select-all-cell-values":this.selectAllColumnValues(e.checked),this.updateParent()}break;case"keyup":this.updateParent()}},HTMLTableWrapperControl.prototype.open=function(){"use strict";this.contextControl.open(this.parent.getTableHeaderElement(this.columnIndex))},HTMLTableWrapperControl.prototype.close=function(){"use strict";this.contextControl.close()},HTMLTableWrapperControl.prototype.reset=function(){"use strict";var t,e,r;for(t=this.contextControl.getControlElement(),HTMLTableWrapperControl.setChecked(t.querySelectorAll("input.column-type"),"infer"),HTMLTableWrapperControl.setChecked(t.querySelectorAll("input.sort-direction"),"none"),HTMLTableWrapperControl.setChecked(t.querySelectorAll("input.filter-by-value-operator"),"contains"),t.querySelector("input.filter-option-ignore-case").checked=!0,t.querySelector("input.filter-by-value-value").value="",e=t.querySelectorAll("input.column-value"),r=0;r<e.length;++r)e[r].checked=!0},HTMLTableWrapperControl.prototype.updateParent=function(){"use strict";this.parent.processTable(),this.contextControl.position()},HTMLTableWrapperControl.prototype.selectAllColumnValues=function(t){"use strict";var e,r;for(e=this.contextControl.getControlElement().querySelectorAll("input.column-value"),r=0;r<e.length;++r)e[r].checked=t},HTMLTableWrapperControl.prototype.getFilterDescriptor=function(){"use strict";var t,e,r,a,i,l;if(!(t=this.contextControl.getControlElement()))return null;for(e=t.querySelector("input.filter-by-value-value").value,r=t.querySelectorAll("input.column-value"),i=[],a=0;a<r.length;++a)(l=r[a]).checked&&i.push(l.value);return e||i.length!==r.length?new HTMLTableWrapperControl.ColumnValueFilter(this.columnIndex,this.getOperator(),e,this.getColumnType(),i,this.cellInterpreter):null},HTMLTableWrapperControl.prototype.getSortDescriptor=function(){"use strict";var t,e;return this.contextControl.getControlElement()?(t=this.getSortOrder())===HTMLTableWrapperControl.SORT_ORDER_NONE?null:(e=this.getColumnType(),new SimpleSortDescriptor(this.columnIndex,t===HTMLTableWrapperControl.SORT_ORDER_DESCENDING,e)):null},HTMLTableWrapperControl.prototype.getColumnValues=function(t){"use strict";var e,r,a,i,l,o,n,s,p;for((n=this.cellInterpreter)&&HTMLTableWrapperControl.checkCellInterpreter(n),o=this.columnIndex,i=new ColumnValueSet,e=this.parent.getDataTable().getRows(!0),r=0;r<e.length;++r)a=e[r].cells[o],(!n||(n.populateCellValues?n.populateCellValues(a,i):n(a,i)))&&i.add(IE8Compatibility.getTextContent(a));for(l=[],s=i.iterator();!(p=s.next()).done;)l.push(p.value);return t||l.sort(),l},HTMLTableWrapperControl.prototype.getOperator=function(){"use strict";var t;switch(this.getCheckedValue("input.filter-by-value-operator")){case"eq":t=HTMLTableWrapperUtils.FILTER_OP_EQUALS;break;case"neq":t=HTMLTableWrapperUtils.FILTER_OP_NOT_EQUALS;break;case"lt":t=HTMLTableWrapperUtils.FILTER_OP_LESS_THAN;break;case"gt":t=HTMLTableWrapperUtils.FILTER_OP_GREATER_THAN;break;case"lte":t=HTMLTableWrapperUtils.FILTER_OP_LESS_THAN|HTMLTableWrapperUtils.FILTER_OP_EQUALS;break;case"gte":t=HTMLTableWrapperUtils.FILTER_OP_GREATER_THAN|HTMLTableWrapperUtils.FILTER_OP_EQUALS;break;case"contains":t=HTMLTableWrapperUtils.FILTER_OP_CONTAINS;break;default:return null}return this.contextControl.getControlElement().querySelector("input.filter-option-ignore-case").checked&&(t|=HTMLTableWrapperUtils.FILTER_FLAG_IGNORE_CASE),t},HTMLTableWrapperControl.prototype.getOperatorDescription=function(){"use strict";var t=HTMLTableWrapperControl.i18nStrings;switch(this.getCheckedValue("input.filter-by-value-operator")){case"eq":return t.filterDescriptionEquals;case"neq":return t.filterDescriptionNotEquals;case"lt":return t.filterDescriptionLessThan;case"gt":return t.filterDescriptionGreaterThan;case"lte":return t.filterDescriptionLessThanOrEqualTo;case"gte":return t.filterDescriptionGreaterThanOrEqualTo;case"contains":return t.filterDescriptionContains;default:return null}},HTMLTableWrapperControl.prototype.getColumnType=function(){"use strict";switch(this.getCheckedValue("input.column-type")){case"infer":return HTMLTableWrapperUtils.COLUMN_TYPE_INFER;case"text":return HTMLTableWrapperUtils.COLUMN_TYPE_TEXT;default:return null}},HTMLTableWrapperControl.prototype.getSortOrder=function(){"use strict";switch(this.getCheckedValue("input.sort-direction")){case"none":return HTMLTableWrapperControl.SORT_ORDER_NONE;case"ascending":return HTMLTableWrapperControl.SORT_ORDER_ASCENDING;case"descending":return HTMLTableWrapperControl.SORT_ORDER_DESCENDING;default:return null}},HTMLTableWrapperControl.prototype.getCheckedValue=function(t){"use strict";var e,r,a,i;if(!(e=this.contextControl.getControlElement()))return null;for(r=e.querySelectorAll(t),i=0;i<r.length;++i)if((a=r[i]).checked)return a.value;return null},HTMLTableWrapperControl.prototype.defineContent=function(t){"use strict";var e,r,a,i,l,o,n,s,p,u,c,T,b,d,f,h,C,E,g,m,L,y,v,I,O,M;for(i=HTMLTableWrapperControl.i18nStrings,r=(e=HTMLTableWrapperControl.getIdBase())+"inferColumnType",a=e+"textOnly",l=e+"sortDirectionAscending",o=e+"sortDirectionDescending",n=e+"filterOptionEq",s=e+"filterOptionNeq",p=e+"filterOptionLt",u=e+"filterOptionGt",c=e+"filterOptionLte",T=e+"filterOptionGte",b=e+"filterOptionContains",d=e+"filterOptionIgnoreCase",f=e+"sortOptionNone",h=e+"filterByValue",E=e+"selectAllCells",I=e+"columnType",O=e+"sortOrder",M=e+"operator",this.columnIndex,L=this.getColumnValues(),IE8Compatibility.addClass(t,HTMLTableWrapperControl.controlClassName),(C=new XMLBuilder).startTag("div").attribute("class","section title-bar").startTag("span").attribute("class","column-title").closeTag(!0).startTag("span").attribute("class","control-buttons").startTag("span").attribute("class","control-button close-button").attribute("title",i.toolTipCloseDialogue).content("×").closeTag().closeTag().closeTag().startTag("div").attribute("class","section").startTag("div").attribute("class","sub-section").startTag("div").attribute("class","section-container column-options").startTag("h5").attribute("class","section-title").content(i.columnOptionsLabel).closeTag().startTag("div").attribute("class","section-content").startTag("div").attribute("class","field").startTag("input").attribute("type","radio").attribute("name",I).attribute("class","column-type").attribute("value","infer").attribute("checked").attribute("id",r).closeTag().startTag("label").attribute("for",r).content(i.inferDataType).closeTag().closeTag().startTag("div").attribute("class","field").startTag("input").attribute("type","radio").attribute("name",I).attribute("class","column-type").attribute("value","text").attribute("id",a).closeTag().startTag("label").attribute("for",a).content(i.textOnlyDataType).closeTag().closeTag().closeTag().closeTag().closeTag().startTag("div").attribute("class","sub-section").startTag("div").attribute("class","section-container sort-options").startTag("h5").attribute("class","section-title").content(i.sortOptionsLabel).closeTag().startTag("div").attribute("class","sort-options section-content").startTag("div").attribute("class","field").startTag("input").attribute("type","radio").attribute("name",O).attribute("class","sort-direction").attribute("value","none").attribute("checked").attribute("id",f).closeTag().startTag("label").attribute("for",f).content(i.noSortOrder).closeTag().closeTag().startTag("div").attribute("class","field").startTag("input").attribute("type","radio").attribute("name",O).attribute("class","sort-direction").attribute("value","ascending").attribute("id",l).closeTag().startTag("label").attribute("for",l).content(i.ascendingSortOrder).closeTag().closeTag().startTag("div").attribute("class","field").startTag("input").attribute("type","radio").attribute("name",O).attribute("class","sort-direction").attribute("value","descending").attribute("id",o).closeTag().startTag("label").attribute("for",o).content(i.descendingSortOrder).closeTag().closeTag().closeTag().closeTag().closeTag().closeTag().startTag("div").attribute("class","section").startTag("h5").attribute("class","section-title").content(i.filterTypeEnteredValue).closeTag().startTag("div").attribute("class","sub-section").startTag("div").attribute("class","filter-by-value-operators section-content").startTag("div").attribute("class","field-group").startTag("div").attribute("class","field").startTag("input").attribute("type","radio").attribute("name",M).attribute("class","filter-by-value-operator").attribute("value","eq").attribute("id",n).attribute("title",i.filterOptionEqualsToolTip).closeTag().startTag("label").attribute("for",n).attribute("title",i.filterOptionEqualsToolTip).content(i.filterOptionEquals).closeTag().closeTag().startTag("div").attribute("class","field").startTag("input").attribute("type","radio").attribute("name",M).attribute("class","filter-by-value-operator").attribute("value","neq").attribute("id",s).attribute("title",i.filterOptionNotEqualsToolTip).closeTag().startTag("label").attribute("for",s).attribute("title",i.filterOptionNotEqualsToolTip).content(i.filterOptionNotEquals).closeTag().closeTag().closeTag().startTag("div").attribute("class","field-group").startTag("div").attribute("class","field").startTag("input").attribute("type","radio").attribute("name",M).attribute("class","filter-by-value-operator").attribute("value","lt").attribute("id",p).attribute("title",i.filterOptionLessThanToolTip).closeTag().startTag("label").attribute("for",p).attribute("title",i.filterOptionLessThanToolTip).content(i.filterOptionLessThan).closeTag().closeTag().startTag("div").attribute("class","field").startTag("input").attribute("type","radio").attribute("name",M).attribute("class","filter-by-value-operator").attribute("value","gt").attribute("id",u).attribute("title",i.filterOptionGreaterThanToolTip).closeTag().startTag("label").attribute("for",u).attribute("title",i.filterOptionGreaterThanToolTip).content(i.filterOptionGreaterThan).closeTag().closeTag().closeTag().startTag("div").attribute("class","field-group").startTag("div").attribute("class","field").startTag("input").attribute("type","radio").attribute("name",M).attribute("class","filter-by-value-operator").attribute("value","lte").attribute("id",c).attribute("title",i.filterOptionLessThanOrEqualToToolTip).closeTag().startTag("label").attribute("for",c).attribute("title",i.filterOptionLessThanOrEqualToToolTip).content(i.filterOptionLessThanOrEqualTo).closeTag().closeTag().startTag("div").attribute("class","field").startTag("input").attribute("type","radio").attribute("name",M).attribute("class","filter-by-value-operator").attribute("value","gte").attribute("id",T).attribute("title",i.filterOptionGreaterThanOrEqualToToolTip).closeTag().startTag("label").attribute("for",T).attribute("title",i.filterOptionGreaterThanOrEqualToToolTip).content(i.filterOptionGreaterThanOrEqualTo).closeTag().closeTag().closeTag().startTag("div").attribute("class","field").startTag("input").attribute("type","radio").attribute("name",M).attribute("class","filter-by-value-operator").attribute("value","contains").attribute("id",b).attribute("checked").closeTag().startTag("label").attribute("for",b).content(i.filterOptionContains).closeTag().closeTag().startTag("div").attribute("class","field").startTag("input").attribute("type","checkbox").attribute("class","filter-option-ignore-case").attribute("id",d).attribute("checked").closeTag().startTag("label").attribute("for",d).content(i.filterOptionIgnoreTextCase).closeTag().closeTag().closeTag().closeTag().startTag("div").attribute("class","sub-section").startTag("div").attribute("class","section-content").startTag("div").attribute("class","field clear-filter-field").startTag("input").attribute("type","button").attribute("name","clear-filter-button").attribute("value",i.clearSearchFilters).closeTag().closeTag().startTag("label").attribute("class","filter-by-value-description").attribute("for",h).content(i.filterDescriptionContains).closeTag().closeTag().closeTag().closeTag().startTag("div").attribute("class","section filter-by-value-container").startTag("input").attribute("class","filter-by-value-value").attribute("id",h).closeTag().closeTag().startTag("div").attribute("class","section filter-by-cell-values-container").startTag("h5").attribute("class","section-title").content(i.filterTypeCellValue).closeTag().startTag("div").attribute("class","field").startTag("input").attribute("type","checkbox").attribute("name","select-all-cell-values").attribute("id",E).attribute("checked").closeTag().startTag("label").attribute("for",E).content(i.selectAll).closeTag().closeTag().startTag("ul").attribute("class","filter-by-cell-values"),m=0;m<L.length;++m)y=L[m],v=e+"columnValue_"+m,C.startTag("li").attribute("class","field").startTag("input").attribute("type","checkbox").attribute("checked").attribute("value",y).attribute("id",v).attribute("class","column-value").closeTag().startTag("label").attribute("for",v).content(y).closeTag().closeTag();for(C.closeTag(!0).closeTag(),t.insertAdjacentHTML("afterbegin",C.toString()),IE8Compatibility.addEventListener(t.querySelector("input.filter-by-value-value"),"keyup",this,!1),g=t.querySelectorAll(HTMLTableWrapperControl.CLICK_TARGETS_SELECTOR),m=0;m<g.length;++m)IE8Compatibility.addEventListener(g[m],"click",this,!1)},HTMLTableWrapperControl.ColumnValueFilter=function(t,e,r,a,i,l){"use strict";this.columnIndex=t,this.operator=e,this.compareValue=r,this.columnType=a,this.selectedValues=i,l&&(HTMLTableWrapperControl.checkCellInterpreter(l),this.cellInterpreter=l,this.currentCellCache=new ColumnValueSet)},HTMLTableWrapperControl.ColumnValueFilter.prototype.cellInterpreter=null,HTMLTableWrapperControl.ColumnValueFilter.prototype.currentCellCache=null,HTMLTableWrapperControl.ColumnValueFilter.prototype.include=function(t){"use strict";var e,r,a,i;if(e=this.cellInterpreter){for(r=this.currentCellCache,e.populateCellValues?e.populateCellValues(t,r):e(t,r),a=r.iterator();!(i=a.next()).done;)if(this.shouldInclude(i.value))return r.clear(),!0;return r.clear(),!1}return this.shouldInclude(IE8Compatibility.getTextContent(t).trim())},HTMLTableWrapperControl.ColumnValueFilter.prototype.shouldInclude=function(t){"use strict";var e,r;return e=HTMLTableWrapperUtils.shouldInclude(t,this.operator,this.compareValue,this.columnType),r=-1!==this.selectedValues.indexOf(t),e&&r},HTMLTableWrapperListener.processedColumnHeader="data-table-column-header",HTMLTableWrapperListener.prototype.tableHeaderCache=null,HTMLTableWrapperListener.prototype.sortDescriptorOrder=null,HTMLTableWrapperListener.prototype.columnControlFactory=null,HTMLTableWrapperListener.prototype.cellInterpreter=null,HTMLTableWrapperListener.prototype.init=function(){"use strict";var t,e,r,a;for(t=this.dataTable.getTableElement().tHead.rows[0].cells,e=this.tableHeaderCache=[],r=0;r<t.length;++r)a=t[r],IE8Compatibility.addEventListener(a,"click",this,!1),IE8Compatibility.addClass(a,HTMLTableWrapperListener.processedColumnHeader),e.push(a)},HTMLTableWrapperListener.prototype.dispose=function(){"use strict";var t,e,r,a,i;for(t=this.tableHeaderCache,e=0;e<t.length;++e)i=t[e],IE8Compatibility.removeEventListener(i,"click",this,!1),IE8Compatibility.removeClass(i,HTMLTableWrapperListener.processedColumnHeader);for(r=this.columnControls,e=0;e<r.length;++e)"function"==typeof(a=r[e]).dispose&&a.dispose()},HTMLTableWrapperListener.prototype.handleEvent=function(t){"use strict";var e,r;"click"===t.type?(r=IE8Compatibility.getEventTarget(t),-1!==(e=this.tableHeaderCache.indexOf(r))?this.openColumnControl(e):console&&console.warn&&(console.warn("Unrecognized event target."),console.warn(r))):console&&console.warn&&(console.warn("Unsupported event: "+t.type),console.warn(t))},HTMLTableWrapperListener.prototype.openColumnControl=function(t){"use strict";var e,r,a,i;for(e=this.getColumnControl(t),r=this.columnControls,i=0;i<r.length;++i)(a=r[i])===e?a.open():a.close()},HTMLTableWrapperListener.prototype.getColumnControl=function(t){"use strict";var e,r,a,i,l,o;if(t>(o=this.tableHeaderCache.length))throw new RangeError("The given columnIndex must be less than the number of columns in the backing table ("+o+"): "+t);for(e=this.columnControls,i=0;i<e.length;++i)if((a=e[i]).columnIndex===t)return a;return(l=this.columnControlFactory)&&(r="function"==typeof l.getColumnControl?l.getColumnControl(t,this):l(t,this)),"function"==typeof(r=r||new HTMLTableWrapperControl(t,this,this.cellInterpreter)).init&&r.init(),e.push(r),r},HTMLTableWrapperListener.prototype.processTable=function(){"use strict";var t,e,r,a,i,l,o,n,s,p,u,c;for(e=[],t=[],r=this.columnControls,a=0;a<r.length;++a)(o=(i=r[a]).getFilterDescriptor())&&e.push(o),(n=i.getSortDescriptor())&&t.push(n);for(s=(s=this.sortDescriptorOrder)||(this.sortDescriptorOrder=[]),a=0;a<t.length;++a)p=t[a].columnIndex,-1===s.indexOf(p)&&s.push(p);for(a=0;a<s.length;++a){for(p=s[a],c=-1,u=0;u<t.length;++u)if(t[u].columnIndex===p){c=u;break}-1===c&&(s.splice(a,1),--a)}t.sort(function(t,e){return s.indexOf(t.columnIndex)-s.indexOf(e.columnIndex)}),(l=this.dataTable).filter(e),l.sort(t)},HTMLTableWrapperListener.prototype.getDataTable=function(){"use strict";return this.dataTable},HTMLTableWrapperListener.prototype.getTableHeaderElement=function(t){"use strict";return this.dataTable.getTableElement().tHead.rows[0].cells[t]};var HTMLTableWrapperUtils={};function SimpleFilterDescriptor(t,e,r,a){"use strict";this.columnIndex=t,this.compareValue=e,r&&"="!==r&&(this.operation=r),a&&a!==HTMLTableWrapperUtils.COLUMN_TYPE_INFER&&(this.columnType=a)}function SimpleSortDescriptor(t,e,r){"use strict";this.columnIndex=t,e&&(this.descending=!0),r&&r!==HTMLTableWrapperUtils.COLUMN_TYPE_INFER&&(this.columnType=r)}function XMLBuilder(){"use strict";this.stack=[],this.state=XMLBuilder.STATE_INITIAL,this.text=XMLBuilder.useArray?[]:""}HTMLTableWrapperUtils.COLUMN_TYPE_TEXT=1,HTMLTableWrapperUtils.COLUMN_TYPE_INFER=2,HTMLTableWrapperUtils.FILTER_OP_CONTAINS=1,HTMLTableWrapperUtils.FILTER_OP_EQUALS=2,HTMLTableWrapperUtils.FILTER_OP_LESS_THAN=4,HTMLTableWrapperUtils.FILTER_OP_GREATER_THAN=8,HTMLTableWrapperUtils.FILTER_FLAG_IGNORE_CASE=16,HTMLTableWrapperUtils.FILTER_FLAG_NOT=32,HTMLTableWrapperUtils.getNumber=function(t,e){"use strict";return"number"==typeof t?t:/^\d+$/.test(t)?IE8Compatibility.parseInt(t):/^\d+(?:\.\d*)?(?:[eE]\d*)?$/.test(t)?IE8Compatibility.parseFloat(t):e?Number.NaN:t},HTMLTableWrapperUtils.shouldInclude=function(t,e,r,a){"use strict";var i,l,o,n,s,p,u;switch(u=e&HTMLTableWrapperUtils.FILTER_FLAG_IGNORE_CASE,a){case HTMLTableWrapperUtils.COLUMN_TYPE_TEXT:i=String(t),l=String(r),u&&(i=i.toUpperCase(),l=l.toUpperCase());break;case HTMLTableWrapperUtils.COLUMN_TYPE_INFER:default:i=HTMLTableWrapperUtils.getNumber(t,!1),l=HTMLTableWrapperUtils.getNumber(r,!1),u&&("string"==typeof i&&(i=i.toUpperCase()),"string"==typeof l&&(l=l.toUpperCase()))}if(o=e&HTMLTableWrapperUtils.FILTER_FLAG_NOT,n=e&(HTMLTableWrapperUtils.FILTER_OP_EQUALS|HTMLTableWrapperUtils.FILTER_OP_LESS_THAN|HTMLTableWrapperUtils.FILTER_OP_GREATER_THAN)){if(o&&(n=~n),n&HTMLTableWrapperUtils.FILTER_OP_EQUALS&&i==l)return!0;if(n&HTMLTableWrapperUtils.FILTER_OP_LESS_THAN&&i<l)return!0;if(n&HTMLTableWrapperUtils.FILTER_OP_GREATER_THAN&&l<i)return!0}return!!(e&HTMLTableWrapperUtils.FILTER_OP_CONTAINS&&(s=String(t),p=String(r),u&&(s=s.toUpperCase(),p=p.toUpperCase()),-1!==s.indexOf(p)))&&!o},SimpleFilterDescriptor.prototype.operation="=",SimpleFilterDescriptor.prototype.columnType=HTMLTableWrapperUtils.COLUMN_TYPE_INFER,SimpleFilterDescriptor.prototype.include=function(t){"use strict";var e,r;switch(this.operation){case"=":e=HTMLTableWrapperUtils.FILTER_OP_EQUALS;break;case">":e=HTMLTableWrapperUtils.FILTER_OP_GREATER_THAN;break;case"<":e=HTMLTableWrapperUtils.FILTER_OP_LESS_THAN;break;case">=":e=HTMLTableWrapperUtils.FILTER_OP_GREATER_THAN|HTMLTableWrapperUtils.FILTER_OP_EQUALS;break;case"<=":e=HTMLTableWrapperUtils.FILTER_OP_LESS_THAN|HTMLTableWrapperUtils.FILTER_OP_EQUALS;break;case"!=":e=HTMLTableWrapperUtils.FILTER_FLAG_NOT|HTMLTableWrapperUtils.FILTER_OP_EQUALS;break;case"~":e=HTMLTableWrapperUtils.FILTER_OP_CONTAINS|HTMLTableWrapperUtils.FILTER_FLAG_IGNORE_CASE;break;case"~~":e=HTMLTableWrapperUtils.FILTER_OP_CONTAINS}return r=IE8Compatibility.getTextContent(t).trim(),HTMLTableWrapperUtils.shouldInclude(r,e,this.compareValue,this.columnType)},SimpleSortDescriptor.prototype.descending=!1,SimpleSortDescriptor.prototype.columnType=HTMLTableWrapperUtils.COLUMN_TYPE_INFER,SimpleSortDescriptor.prototype.compare=function(t,e){"use strict";var r,a,i,l,o,n,s;switch(r=IE8Compatibility.getTextContent(t).trim(),a=IE8Compatibility.getTextContent(e).trim(),this.columnType){case HTMLTableWrapperUtils.COLUMN_TYPE_INFER:l=HTMLTableWrapperUtils.getNumber(r,!0),o=IE8Compatibility.isNaN(l),n=HTMLTableWrapperUtils.getNumber(a,!0),s=IE8Compatibility.isNaN(n),i=o&&s?r<a?-1:a<r?1:0:o?1:s?-1:l-n;break;case HTMLTableWrapperUtils.COLUMN_TYPE_TEXT:i=r<a?-1:a<r?1:0;break;default:i=0}return i?this.descending?-1*i:i:0},XMLBuilder.STATE_INITIAL=0,XMLBuilder.STATE_TAG=1,XMLBuilder.STATE_CONTENT=2,XMLBuilder.ESCAPE_CHARACTER_MAPPING={'"':"&quot;","&":"&amp;","'":"&apos;","<":"&lt;",">":"&gt;"},XMLBuilder.useArray=!1,XMLBuilder.escape=function(t){"use strict";var e,r,a,i;if(!(e=/["&'<>]/g).test(t))return t;for(r=e.lastIndex=0,a=null,i="";null!=(a=e.exec(t));)i+=t.substring(r,e.lastIndex-1),i+=XMLBuilder.ESCAPE_CHARACTER_MAPPING[a[0]],r=e.lastIndex;return i+=t.substring(r)},XMLBuilder.prototype.startTag=function(t){"use strict";var e;return this.state==XMLBuilder.STATE_TAG&&this.appendDirect(">"),e=XMLBuilder.escape(t),this.appendDirect("<"+e),this.state=XMLBuilder.STATE_TAG,this.stack.push(e),this},XMLBuilder.prototype.attribute=function(t,e){"use strict";var r,a;if(this.state!=XMLBuilder.STATE_TAG)throw new Error("Invalid state.");return r=XMLBuilder.escape(t),e?(a=XMLBuilder.escape(e),this.appendDirect(" "+r+'="'+a+'"')):this.appendDirect(" "+r),this},XMLBuilder.prototype.content=function(t){"use strict";return this.state==XMLBuilder.STATE_TAG&&this.appendDirect(">"),this.appendDirect(XMLBuilder.escape(t)),this.state=XMLBuilder.STATE_CONTENT,this},XMLBuilder.prototype.closeTag=function(t){"use strict";var e,r,a;if(!(e=this.stack).length)throw new Error("Invalid state.");if(r=e.pop(),a=this.state,t)a===XMLBuilder.STATE_TAG&&this.appendDirect(">"),this.appendDirect("</"+r+">");else if(a===XMLBuilder.STATE_CONTENT)this.appendDirect("</"+r+">");else{if(a!==XMLBuilder.STATE_TAG)throw new Error("Invalid state.");this.appendDirect(" />")}return this.state=e.length?XMLBuilder.STATE_CONTENT:XMLBuilder.STATE_INITIAL,this},XMLBuilder.prototype.appendDirect=function(t){"use strict";return XMLBuilder.useArray?this.text.push(t):this.text+=t,this},XMLBuilder.prototype.clear=function(){"use strict";XMLBuilder.useArray?this.text=[]:this.text=""},XMLBuilder.prototype.toString=function(){"use strict";return XMLBuilder.useArray?this.text.join(""):this.text};