String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){"use strict";var i;if(null==this)throw new TypeError('"this" is null or not defined');var a=Object(this),l=a.length>>>0;if(0==l)return-1;var r=0|e;if(l<=r)return-1;for(i=Math.max(0<=r?r:l-Math.abs(r),0);i<l;i++)if(i in a&&a[i]===t)return i;return-1});var IEGeneralCompatibility={parseInt:function(t){"use strict";return"function"==typeof Number.parseInt?Number.parseInt(t):parseInt(t)},parseFloat:function(t){"use strict";return"function"==typeof Number.parseFloat?Number.parseFloat(t):parseFloat(t)},isNaN:function(t){"use strict";return"function"==typeof Number.isNaN?Number.isNaN(t):t!=t}},IE9Compatibility={};!function(t,e){"use strict";var i;for(i in t)e[i]=t[i]}(IEGeneralCompatibility,IE9Compatibility),IE9Compatibility.addClass=function(t,e){"use strict";var i;t.classList?t.classList.add(e):-1==(i=t.className.trim().split(/\s+/)).indexOf(e)&&(i.push(e),t.className=i.join(" "))},IE9Compatibility.removeClass=function(t,e){"use strict";var i,a;t.classList?t.classList.remove(e):-1!=(a=(i=t.className.trim().split(/\s+/)).indexOf(e))&&(i.splice(a,1),t.className=i.join(" "))},IE9Compatibility.hasClass=function(t,e){"use strict";return t.classList?t.classList.contains(e):-1!=t.className.trim().split(/\s+/).indexOf(e)};var IE8Compatibility={};function SimpleEventDispatcher(){"use strict";this.listeners={}}function IterationValue(t,e){"use strict";this.done=t,this.value=e}function ColumnValueSet(){"use strict";window.Set?this.values=new Set:(this.values=[],this.fallback=!0)}function ContextControl(t,e){"use strict";SimpleEventDispatcher.call(this),this.horizontalOffset=0===t||t?t:ContextControl.defaultHorizontalOffset,this.verticalOffset=0===e||e?e:ContextControl.defaultVerticalOffset}function SimpleDataTable(t){"use strict";if(!t||!t.tBodies||!t.tBodies.length)throw new ReferenceError("Table must be an defined and have a body.");this.table=t,this.initialOrder=SimpleDataTable.copy(t.tBodies[0].rows)}function SimpleDataTableControl(t,e,i){"use strict";this.columnIndex=t,this.contextControl=new ContextControl,this.parent=e,i&&(this.cellInterpreter=i)}function SimpleDataTableListener(t,e,i){"use strict";this.dataTable=t instanceof SimpleDataTable?dataTable:new SimpleDataTable(t),e&&(this.columnControlFactory=e),i&&(this.cellInterpreter=i),this.columnControls=[]}!function(t,e){"use strict";var i;for(i in t)e[i]=t[i]}(IE9Compatibility,IE8Compatibility),IE8Compatibility.allRegisteredHandlers=null,IE8Compatibility.addEventListener=function(t,e,i,a){"use strict";var l,r,o;if(t.addEventListener)t.addEventListener(e,i,a);else{if(a&&console&&console.warn&&console.warn("Falling back to attachEvent; useCapture/options will be ignored."),i&&"function"==typeof i.handleEvent){if(r=(r=IE8Compatibility.allRegisteredHandlers)||(IE8Compatibility.allRegisteredHandlers=[]),o=e.toLowerCase(),-1!==IE8Compatibility.getHandlerIndex(t,o,i))return;l=function(t){i.handleEvent(t)},r.push(new IE8Compatibility.IE8EventHandler(t,o,i,l))}else l=i;t.attachEvent("on"+e,l)}},IE8Compatibility.removeEventListener=function(t,e,i,a){"use strict";var l,r,o,n,s;if(t.removeEventListener)t.removeEventListener(e,i,a);else{if(a&&console&&console.warn&&console.warn("Falling back to detachEvent; useCapture/options will be ignored."),i&&"function"==typeof i.handleEvent){if(n=e.toLowerCase(),!(r=IE8Compatibility.allRegisteredHandlers)||-1===(o=IE8Compatibility.getHandlerIndex(t,n,i)))return;l=(s=r[o]).handlerFunction,r.splice(o,1),s.dispose()}else l=i;t.detachEvent("on"+e,l)}},IE8Compatibility.getEventTarget=function(t){"use strict";return"target"in t?t.target:t.srcElement},IE8Compatibility.extend=function(t){"use strict";var e;return Object.create?Object.create(t):((e=function(){}).prototype=t,new e)},IE8Compatibility.getTextContent=function(t){"use strict";var e;if("textContent"in t)return t.textContent;switch(t.nodeType){case 1:case 11:return(e=t.childNodes).length?IE8Compatibility._getTextContent(e):"";case 3:case 4:case 7:case 8:return t.nodeValue;case 2:return t.value;default:return null}},IE8Compatibility.setTextContent=function(t,e){"use strict";var i;if("textContent"in t)t.textContent=e;else switch(t.nodeType){case 1:case 11:for(i=t.childNodes;i.length;)t.removeChild(i[0]);t.appendChild(document.createTextNode(e));break;case 3:case 4:case 7:case 8:t.nodeValue=e;break;case 2:t.value=e}},IE8Compatibility._getTextContent=function(t){"use strict";var e,i,a,l;for(l="",e=0;e<t.length;++e)(a=(i=t[e]).childNodes).length&&(l+=IE8Compatibility._getTextContent(a)),3==i.nodeType&&(l+=i.nodeValue);return l},IE8Compatibility.getHandlerIndex=function(t,e,i){"use strict";var a,l,r;for(a=IE8Compatibility.allRegisteredHandlers,r=0;r<a.length;++r)if((l=a[r]).target===t&&l.type===e&&l.listener===i)return r;return-1},IE8Compatibility.IE8EventHandler=function(t,e,i,a){"use strict";this.target=t,this.type=e,this.listener=i,this.handlerFunction=a},IE8Compatibility.IE8EventHandler.prototype.dispose=function(){"use strict";this.target=this.listener=this.handlerFunction=null},SimpleEventDispatcher.processType=function(t){"use strict";if(!t)throw new ReferenceError("Event type must be defined (and have a length greater than 0).");if("string"!=typeof t&&!(t instanceof String))throw new TypeError("Event type must be a string.");return t.toLowerCase()},SimpleEventDispatcher.prototype.addEventListener=function(t,e,i){"use strict";var a;if(i&&console&&console.warn&&console.warn("Capture/bubble phase not supported by this event listener; events are simply dispatched to listeners in the order they are registered."),t=SimpleEventDispatcher.processType(t),!e)throw new ReferenceError("Listener must be defined.");if("function"!=typeof e.handleEvent&&"function"!=typeof e)throw new TypeError("Listener must either define a handleEvent function or be a function itself.");-1===(a=(a=this.listeners[t])||(this.listeners[t]=[])).indexOf(e)&&a.push(e)},SimpleEventDispatcher.prototype.removeEventListener=function(t,e,i){"use strict";var a,l;gh,i&&console&&console.warn&&console.warn("Capture/bubble phase not supported by this event listener; events are simply dispatched to listeners in the order they are registered."),t=SimpleEventDispatcher.processType(t),(a=this.listeners[t])&&-1!==(l=a.indexOf(e))&&a.splice(l,1)},SimpleEventDispatcher.prototype.dispatchEvent=function(t){"use strict";var e,i,a;if(!t)throw new ReferenceError("Event must be defined.");if("string"!=typeof t.type&&!(t.type instanceof String))throw new TypeError("Event must, at minimum, define a type property.");if(e=this.listeners[t.type.toLowerCase()])for(a=0;a<e.length;++a)"function"==typeof(i=e[a]).handleEvent?i.handleEvent(t):i(t)},SimpleEventDispatcher.SimpleEvent=function(t,e){"use strict";this.type=t,this.target=e,this.currentTarget=e},ColumnValueSet.prototype.fallback=!1,ColumnValueSet.prototype.add=function(t,e){"use strict";var i;i=this.values,e||(t=t.trim()),this.fallback?-1===i.indexOf(t)&&i.push(t):i.add(t)},ColumnValueSet.prototype.iterator=function(){"use strict";return this.fallback?new ColumnValueSet.FallbackIterator(this.values):this.values.values()},window.Symbol&&Symbol.iterator&&(ColumnValueSet.prototype[Symbol.iterator]=ColumnValueSet.prototype.iterator),ColumnValueSet.prototype.clear=function(){"use strict";var t;t=this.values,this.fallback?t.length=0:t.clear()},ColumnValueSet.FallbackIterator=function(t){"use strict";this.values=t,this.i=-1},ColumnValueSet.FallbackIterator.prototype.next=function(){"use strict";var t,e;return(t=++this.i)<(e=this.values).length?new IterationValue(!1,e[t]):new IterationValue(!0)},ContextControl.EVENT_TYPE_CREATE="create",ContextControl.contextElementClassName="context-control",ContextControl.dialogueOpenedClassName="context-control-opened",ContextControl.dialogueClosedClassName="context-control-closed",ContextControl.mobileViewClassName="context-control-mobile-view",ContextControl.mobileThresholdRatio=.35,ContextControl.defaultHorizontalOffset=10,ContextControl.defaultVerticalOffset=10,ContextControl.createControl=function(){"use strict";var t;return(t=document.createElement("div")).className=ContextControl.contextElementClassName,t},ContextControl.getOffset=function(t){"use strict";var e=new ContextControl.OffsetCoordinates;return ContextControl._getOffset(t,e),e},ContextControl._getOffset=function(t,e){"use strict";null!=t&&(e.x+=t.offsetLeft,e.y+=t.offsetTop,ContextControl._getOffset(t.offsetParent,e))},ContextControl.prototype=IE8Compatibility.extend(SimpleEventDispatcher.prototype),ContextControl.prototype.controlElement=null,ContextControl.prototype.offsetElement=null,ContextControl.prototype.mobileViewState=null,ContextControl.prototype.dispose=function(){"use strict";var t;t=this.controlElement,this.close(),t&&document.body.removeChild(t),this.controlElement=null,this.offsetElement=null},ContextControl.prototype.handleEvent=function(t){"resize"===t.type?this.position():console&&console.warn&&(console.warn("Unrecognized event: "+t.type),console.warn(t))},ContextControl.prototype.open=function(t){"use strict";var e;if(!t)throw new ReferenceError("Offset element must be defined.");return(e=this.controlElement)||(e=this.controlElement=ContextControl.createControl(),document.body.appendChild(e),this.dispatchEvent(new SimpleEventDispatcher.SimpleEvent(ContextControl.EVENT_TYPE_CREATE,this))),this.offsetElement=t,IE8Compatibility.removeClass(e,ContextControl.dialogueClosedClassName),this.position(),IE8Compatibility.addEventListener(window,"resize",this,!1),IE8Compatibility.addClass(e,ContextControl.dialogueOpenedClassName),e},ContextControl.prototype.position=function(){"use strict";var t,e,i,a,l,r,o,n,s,u;(u=this.offsetElement)&&(t=this.controlElement,o=this.mobileViewState,i="innerWidth"in window?window.innerWidth:document.documentElement.clientWidth,a="innerHeight"in window?window.innerHeight:document.documentElement.clientHeight,r=o?o.initialWidth:t.offsetWidth,(l=o?o.initialHeight:t.offsetHeight)*r/(a*i)>=ContextControl.mobileThresholdRatio?o||(o=this.mobileViewState=new ContextControl.MobileViewState(t)).setupMobileView():(o&&(o.restoreDefaultView(),this.mobileViewState=null,r=t.offsetWidth,l=t.offsetHeight),n=(e=ContextControl.getOffset(u)).x+this.horizontalOffset,s=e.y+u.offsetHeight+this.verticalOffset,t.style.left=(n+r>window.innerWidth?window.innerWidth-r-(window.outerWidth-window.innerWidth):n)+"px",t.style.top=(s+l>window.innerHeight?Math.max(0,window.innerHeight-l):s)+"px"))},ContextControl.prototype.close=function(){"use strict";var t,e;(t=this.controlElement)&&(IE8Compatibility.removeClass(t,ContextControl.dialogueOpenedClassName),(e=this.mobileViewState)&&(e.restoreDefaultView(),this.mobileViewState=null),IE8Compatibility.removeEventListener(window,"resize",this,!1),IE8Compatibility.addClass(t,ContextControl.dialogueClosedClassName))},ContextControl.prototype.getControlElement=function(){"use strict";return this.controlElement},ContextControl.MobileViewState=function(t){"use strict";this.controlElement=t,this.initialWidth=t.offsetWidth,this.initialHeight=t.offsetHeight},ContextControl.MobileViewState.prototype.setupMobileView=function(){"use strict";var t,e;(e=(t=this.controlElement).style).left=e.top="0px",IE8Compatibility.addClass(t,ContextControl.mobileViewClassName),IE8Compatibility.addClass(document.body,ContextControl.mobileViewClassName)},ContextControl.MobileViewState.prototype.restoreDefaultView=function(){"use strict";var t;t=this.controlElement,IE8Compatibility.removeClass(t,ContextControl.mobileViewClassName),IE8Compatibility.removeClass(document.body,ContextControl.mobileViewClassName)},ContextControl.OffsetCoordinates=function(){"use strict";this.x=0,this.y=0},SimpleDataTable.filteredClassName="data-table-filtered",SimpleDataTable.copy=function(t){var e,i;for(e=[],i=0;i<t.length;++i)e.push(t[i]);return e},SimpleDataTable.prototype.sort=function(){"use strict";var s,t,e,i,a,l;if((s=arguments[0]instanceof Array?arguments[0]:arguments).length){for(e=0;e<s.length;++e){if(!(t=s[e]))throw new ReferenceError("Invalid reference supplied for sort descriptor at index "+e+": "+t);if("function"!=typeof t.compare)throw new TypeError("Sort descriptor does not define define the compare property (of type function) at index "+e)}for(a=(i=this.table.tBodies[0]).rows,(l=SimpleDataTable.copy(a)).sort(function(t,e){var i,a,l,r,o,n;for(n=0;n<s.length;++n)if(0!=(o="number"==typeof(a=(i=s[n]).columnIndex)&&0<a?(l=t.cells[a],r=e.cells[a],i.compare(l,r)):i.compare(t,e)))return o;return 0});a.length;)i.removeChild(a[0]);for(e=0;e<l.length;++e)i.appendChild(l[e])}else this.clearSort()},SimpleDataTable.prototype.filter=function(){"use strict";var t,e,i,a,l,r,o,n,s;if((t=arguments[0]instanceof Array?arguments[0]:arguments).length){for(i=0;i<t.length;++i){if(!(e=t[i]))throw new ReferenceError("Invalid reference supplied for filter descriptor at index "+i);if("function"!=typeof e.include)throw new TypeError("Filter descriptor does not define the include property (of type function) at index "+i)}for(a=this.table.tBodies[0].rows,i=0;i<a.length;++i){for(n=(l=a[i]).cells,r=!1,o=0;o<t.length;++o)if(!("number"==typeof(s=(e=t[o]).columnIndex)&&0<s?e.include(n[s]):e.include(l))){r=!0;break}r?IE8Compatibility.addClass(l,SimpleDataTable.filteredClassName):IE8Compatibility.removeClass(l,SimpleDataTable.filteredClassName)}}else this.clearFilter()},SimpleDataTable.prototype.clearFilter=function(){"use strict";var t,e;for(e=this.table.tBodies[0].rows,t=0;t<e.length;++t)IE8Compatibility.removeClass(e[t],SimpleDataTable.filteredClassName)},SimpleDataTable.prototype.clearSort=function(){"use strict";var t,e,i,a;for(i=(e=this.table.tBodies[0]).rows,t=this.initialOrder;i.length;)e.removeChild(i[0]);for(a=0;a<t.length;++a)e.appendChild(t[a])},SimpleDataTable.prototype.getTableElement=function(){"use strict";return this.table},SimpleDataTable.prototype.getRows=function(t){"use strict";var e,i,a,l;if(e=this.table.tBodies[0].rows,t)return e;for(l=[],a=0;a<e.length;++a)i=e[a],IE8Compatibility.hasClass(i,SimpleDataTable.filteredClassName)||l.push(i);return l},SimpleDataTableControl.controlClassName="data-table-column-options",SimpleDataTableControl.SORT_ORDER_NONE=1,SimpleDataTableControl.SORT_ORDER_ASCENDING=2,SimpleDataTableControl.SORT_ORDER_DESCENDING=3,SimpleDataTableControl.CLICK_TARGETS_SELECTOR='input.column-type, input.sort-direction, input.filter-by-value-operator, input.filter-option-ignore-case, input[name="clear-filter-button"], input[name="select-all-cell-values"], input.column-value, .close-button',SimpleDataTableControl.i18nStrings={columnOptionsLabel:"Column Type",sortOptionsLabel:"Sort Order",inferDataType:"Infer",textOnlyDataType:"Text Only",noSortOrder:"None",ascendingSortOrder:"Ascending",descendingSortOrder:"Descending",filterTypeEnteredValue:"Filter By Entered Value",filterTypeCellValue:"Filter By Cell's Value",selectAll:"Select All",filterOptionEquals:"=",filterOptionEqualsToolTip:"Equals",filterOptionNotEquals:"!=",filterOptionNotEqualsToolTip:"Not Equals",filterOptionLessThan:"<",filterOptionLessThanToolTip:"Less Than",filterOptionGreaterThan:">",filterOptionGreaterThanToolTip:"Greater Than",filterOptionLessThanOrEqualTo:"<=",filterOptionLessThanOrEqualToToolTip:"Less Than or Equal To",filterOptionGreaterThanOrEqualTo:">=",filterOptionGreaterThanOrEqualToToolTip:"Greater Than or Equal To",filterOptionContains:"Contains",filterOptionIgnoreTextCase:"Ignore Case",filterDescriptionEquals:"Select cells whose value is equal to the entered value:",filterDescriptionNotEquals:"Select cells whose value is not equal to the entered value:",filterDescriptionLessThan:"Select cells whose value is less than the entered value:",filterDescriptionGreaterThan:"Select cells whose value is greater than the entered value:",filterDescriptionLessThanOrEqualTo:"Select cells whose value is less than or equal to the entered value:",filterDescriptionGreaterThanOrEqualTo:"Select cells whose value is greater than or equal to the entered value:",filterDescriptionContains:"Select cells whose value contain the entered value:",clearSearchFilters:"Reset Column",toolTipCloseDialogue:"Close"},SimpleDataTableControl.idCounter=0,SimpleDataTableControl.getIdBase=function(){"use strict";return"dataTable_"+SimpleDataTableControl.idCounter+++"_"},SimpleDataTableControl.hasUnchecked=function(t){"use strict";var e;for(e=0;e<t.length;++e)if(!t[e].checked)return!0;return!1},SimpleDataTableControl.setChecked=function(t,e){"use strict";var i,a;for(i=0;i<t.length;++i)(a=t[i]).checked=a.value===e},SimpleDataTableControl.checkCellInterpreter=function(t){"use strict";if("function"!=typeof t&&"function"!=typeof t.populateCellValues)throw new TypeError("Callback must either define a populateCellValues function, or be a function itself.")},SimpleDataTableControl.prototype.cellInterpreter=null,SimpleDataTableControl.prototype.init=function(){"use strict";IE8Compatibility.addEventListener(this.contextControl,"create",this,!1)},SimpleDataTableControl.prototype.dispose=function(){"use strict";var t,e,i,a;if(e=(t=this.contextControl).getControlElement())for(IE8Compatibility.removeEventListener(e.querySelector("input.filter-by-value-value"),"keyup",this,!1),i=e.querySelectorAll(SimpleDataTableControl.CLICK_TARGETS_SELECTOR),a=0;a<i.length;++a)IE8Compatibility.removeEventListener(i[a],"click",this,!1);IE8Compatibility.removeEventListener(t,"create",this,!1),t.dispose()},SimpleDataTableControl.prototype.handleEvent=function(t){"use strict";var e,i;switch(e=IE8Compatibility.getEventTarget(t),t.type){case"create":this.defineContent(e.getControlElement());break;case"click":if(IE8Compatibility.hasClass(e,"close-button"))this.contextControl.close();else if(IE8Compatibility.hasClass(e,"filter-by-value-operator"))IE8Compatibility.setTextContent(this.contextControl.getControlElement().querySelector(".filter-by-value-description"),this.getOperatorDescription()),this.updateParent();else if(IE8Compatibility.hasClass(e,"column-value"))(i=this.contextControl.getControlElement()).querySelector('input[name="select-all-cell-values"]').checked=!SimpleDataTableControl.hasUnchecked(i.querySelectorAll("input.column-value")),this.updateParent();else if(IE8Compatibility.hasClass(e,"column-type")||IE8Compatibility.hasClass(e,"sort-direction")||IE8Compatibility.hasClass(e,"filter-option-ignore-case"))this.updateParent();else switch(e.name){case"clear-filter-button":this.reset(),this.updateParent();break;case"select-all-cell-values":this.selectAllColumnValues(e.checked),this.updateParent()}break;case"keyup":this.updateParent()}},SimpleDataTableControl.prototype.open=function(){"use strict";this.contextControl.open(this.parent.getTableHeaderElement(this.columnIndex))},SimpleDataTableControl.prototype.close=function(){"use strict";this.contextControl.close()},SimpleDataTableControl.prototype.reset=function(){"use strict";var t,e,i;for(t=this.contextControl.getControlElement(),SimpleDataTableControl.setChecked(t.querySelectorAll("input.column-type"),"infer"),SimpleDataTableControl.setChecked(t.querySelectorAll("input.sort-direction"),"none"),SimpleDataTableControl.setChecked(t.querySelectorAll("input.filter-by-value-operator"),"contains"),t.querySelector("input.filter-option-ignore-case").checked=!0,t.querySelector("input.filter-by-value-value").value="",e=t.querySelectorAll("input.column-value"),i=0;i<e.length;++i)e[i].checked=!0},SimpleDataTableControl.prototype.updateParent=function(){"use strict";this.parent.processTable(),this.contextControl.position()},SimpleDataTableControl.prototype.selectAllColumnValues=function(t){"use strict";var e,i;for(e=this.contextControl.getControlElement().querySelectorAll("input.column-value"),i=0;i<e.length;++i)e[i].checked=t},SimpleDataTableControl.prototype.getFilterDescriptor=function(){"use strict";var t,e,i,a,l,r;if(!(t=this.contextControl.getControlElement()))return null;for(e=t.querySelector("input.filter-by-value-value").value,i=t.querySelectorAll("input.column-value"),l=[],a=0;a<i.length;++a)(r=i[a]).checked&&l.push(r.value);return e||l.length!==i.length?new SimpleDataTableControl.ColumnValueFilter(this.columnIndex,this.getOperator(),e,this.getColumnType(),l,this.cellInterpreter):null},SimpleDataTableControl.prototype.getSortDescriptor=function(){"use strict";var t,e;return this.contextControl.getControlElement()?(t=this.getSortOrder())===SimpleDataTableControl.SORT_ORDER_NONE?null:(e=this.getColumnType(),new SimpleSortDescriptor(this.columnIndex,t===SimpleDataTableControl.SORT_ORDER_DESCENDING,e)):null},SimpleDataTableControl.prototype.getColumnValues=function(t){"use strict";var e,i,a,l,r,o,n,s,u;for((n=this.cellInterpreter)&&SimpleDataTableControl.checkCellInterpreter(n),o=this.columnIndex,l=new ColumnValueSet,e=this.parent.getDataTable().getRows(!0),i=0;i<e.length;++i)a=e[i].cells[o],(!n||(n.populateCellValues?n.populateCellValues(a,l):n(a,l)))&&l.add(IE8Compatibility.getTextContent(a));for(r=[],s=l.iterator();!(u=s.next()).done;)r.push(u.value);return t||r.sort(),r},SimpleDataTableControl.prototype.getOperator=function(){"use strict";var t;switch(this.getCheckedValue("input.filter-by-value-operator")){case"eq":t=SimpleDataTableUtils.FILTER_OP_EQUALS;break;case"neq":t=SimpleDataTableUtils.FILTER_OP_NOT_EQUALS;break;case"lt":t=SimpleDataTableUtils.FILTER_OP_LESS_THAN;break;case"gt":t=SimpleDataTableUtils.FILTER_OP_GREATER_THAN;break;case"lte":t=SimpleDataTableUtils.FILTER_OP_LESS_THAN|SimpleDataTableUtils.FILTER_OP_EQUALS;break;case"gte":t=SimpleDataTableUtils.FILTER_OP_GREATER_THAN|SimpleDataTableUtils.FILTER_OP_EQUALS;break;case"contains":t=SimpleDataTableUtils.FILTER_OP_CONTAINS;break;default:return null}return this.contextControl.getControlElement().querySelector("input.filter-option-ignore-case").checked&&(t|=SimpleDataTableUtils.FILTER_FLAG_IGNORE_CASE),t},SimpleDataTableControl.prototype.getOperatorDescription=function(){"use strict";var t=SimpleDataTableControl.i18nStrings;switch(this.getCheckedValue("input.filter-by-value-operator")){case"eq":return t.filterDescriptionEquals;case"neq":return t.filterDescriptionNotEquals;case"lt":return t.filterDescriptionLessThan;case"gt":return t.filterDescriptionGreaterThan;case"lte":return t.filterDescriptionLessThanOrEqualTo;case"gte":return t.filterDescriptionGreaterThanOrEqualTo;case"contains":return t.filterDescriptionContains;default:return null}},SimpleDataTableControl.prototype.getColumnType=function(){"use strict";switch(this.getCheckedValue("input.column-type")){case"infer":return SimpleDataTableUtils.COLUMN_TYPE_INFER;case"text":return SimpleDataTableUtils.COLUMN_TYPE_TEXT;default:return null}},SimpleDataTableControl.prototype.getSortOrder=function(){"use strict";switch(this.getCheckedValue("input.sort-direction")){case"none":return SimpleDataTableControl.SORT_ORDER_NONE;case"ascending":return SimpleDataTableControl.SORT_ORDER_ASCENDING;case"descending":return SimpleDataTableControl.SORT_ORDER_DESCENDING;default:return null}},SimpleDataTableControl.prototype.getCheckedValue=function(t){"use strict";var e,i,a,l;if(!(e=this.contextControl.getControlElement()))return null;for(i=e.querySelectorAll(t),l=0;l<i.length;++l)if((a=i[l]).checked)return a.value;return null},SimpleDataTableControl.prototype.defineContent=function(t){"use strict";var e,i,a,l,r,o,n,s,u,c,p,T,b,d,f,h,m,C,E,g,y,S,v,D,I,O;for(l=SimpleDataTableControl.i18nStrings,i=(e=SimpleDataTableControl.getIdBase())+"inferColumnType",a=e+"textOnly",r=e+"sortDirectionAscending",o=e+"sortDirectionDescending",n=e+"filterOptionEq",s=e+"filterOptionNeq",u=e+"filterOptionLt",c=e+"filterOptionGt",p=e+"filterOptionLte",T=e+"filterOptionGte",b=e+"filterOptionContains",d=e+"filterOptionIgnoreCase",f=e+"sortOptionNone",h=e+"filterByValue",C=e+"selectAllCells",D=e+"columnType",I=e+"sortOrder",O=e+"operator",this.columnIndex,y=this.getColumnValues(),IE8Compatibility.addClass(t,SimpleDataTableControl.controlClassName),(m=new XMLBuilder).startTag("div").attribute("class","section title-bar").startTag("span").attribute("class","column-title").closeTag(!0).startTag("span").attribute("class","control-buttons").startTag("span").attribute("class","control-button close-button").attribute("title",l.toolTipCloseDialogue).content("×").closeTag().closeTag().closeTag().startTag("div").attribute("class","section").startTag("div").attribute("class","sub-section").startTag("div").attribute("class","section-container column-options").startTag("h5").attribute("class","section-title").content(l.columnOptionsLabel).closeTag().startTag("div").attribute("class","section-content").startTag("div").attribute("class","field").startTag("input").attribute("type","radio").attribute("name",D).attribute("class","column-type").attribute("value","infer").attribute("checked").attribute("id",i).closeTag().startTag("label").attribute("for",i).content(l.inferDataType).closeTag().closeTag().startTag("div").attribute("class","field").startTag("input").attribute("type","radio").attribute("name",D).attribute("class","column-type").attribute("value","text").attribute("id",a).closeTag().startTag("label").attribute("for",a).content(l.textOnlyDataType).closeTag().closeTag().closeTag().closeTag().closeTag().startTag("div").attribute("class","sub-section").startTag("div").attribute("class","section-container sort-options").startTag("h5").attribute("class","section-title").content(l.sortOptionsLabel).closeTag().startTag("div").attribute("class","sort-options section-content").startTag("div").attribute("class","field").startTag("input").attribute("type","radio").attribute("name",I).attribute("class","sort-direction").attribute("value","none").attribute("checked").attribute("id",f).closeTag().startTag("label").attribute("for",f).content(l.noSortOrder).closeTag().closeTag().startTag("div").attribute("class","field").startTag("input").attribute("type","radio").attribute("name",I).attribute("class","sort-direction").attribute("value","ascending").attribute("id",r).closeTag().startTag("label").attribute("for",r).content(l.ascendingSortOrder).closeTag().closeTag().startTag("div").attribute("class","field").startTag("input").attribute("type","radio").attribute("name",I).attribute("class","sort-direction").attribute("value","descending").attribute("id",o).closeTag().startTag("label").attribute("for",o).content(l.descendingSortOrder).closeTag().closeTag().closeTag().closeTag().closeTag().closeTag().startTag("div").attribute("class","section").startTag("h5").attribute("class","section-title").content(l.filterTypeEnteredValue).closeTag().startTag("div").attribute("class","sub-section").startTag("div").attribute("class","filter-by-value-operators section-content").startTag("div").attribute("class","field-group").startTag("div").attribute("class","field").startTag("input").attribute("type","radio").attribute("name",O).attribute("class","filter-by-value-operator").attribute("value","eq").attribute("id",n).attribute("title",l.filterOptionEqualsToolTip).closeTag().startTag("label").attribute("for",n).attribute("title",l.filterOptionEqualsToolTip).content(l.filterOptionEquals).closeTag().closeTag().startTag("div").attribute("class","field").startTag("input").attribute("type","radio").attribute("name",O).attribute("class","filter-by-value-operator").attribute("value","neq").attribute("id",s).attribute("title",l.filterOptionNotEqualsToolTip).closeTag().startTag("label").attribute("for",s).attribute("title",l.filterOptionNotEqualsToolTip).content(l.filterOptionNotEquals).closeTag().closeTag().closeTag().startTag("div").attribute("class","field-group").startTag("div").attribute("class","field").startTag("input").attribute("type","radio").attribute("name",O).attribute("class","filter-by-value-operator").attribute("value","lt").attribute("id",u).attribute("title",l.filterOptionLessThanToolTip).closeTag().startTag("label").attribute("for",u).attribute("title",l.filterOptionLessThanToolTip).content(l.filterOptionLessThan).closeTag().closeTag().startTag("div").attribute("class","field").startTag("input").attribute("type","radio").attribute("name",O).attribute("class","filter-by-value-operator").attribute("value","gt").attribute("id",c).attribute("title",l.filterOptionGreaterThanToolTip).closeTag().startTag("label").attribute("for",c).attribute("title",l.filterOptionGreaterThanToolTip).content(l.filterOptionGreaterThan).closeTag().closeTag().closeTag().startTag("div").attribute("class","field-group").startTag("div").attribute("class","field").startTag("input").attribute("type","radio").attribute("name",O).attribute("class","filter-by-value-operator").attribute("value","lte").attribute("id",p).attribute("title",l.filterOptionLessThanOrEqualToToolTip).closeTag().startTag("label").attribute("for",p).attribute("title",l.filterOptionLessThanOrEqualToToolTip).content(l.filterOptionLessThanOrEqualTo).closeTag().closeTag().startTag("div").attribute("class","field").startTag("input").attribute("type","radio").attribute("name",O).attribute("class","filter-by-value-operator").attribute("value","gte").attribute("id",T).attribute("title",l.filterOptionGreaterThanOrEqualToToolTip).closeTag().startTag("label").attribute("for",T).attribute("title",l.filterOptionGreaterThanOrEqualToToolTip).content(l.filterOptionGreaterThanOrEqualTo).closeTag().closeTag().closeTag().startTag("div").attribute("class","field").startTag("input").attribute("type","radio").attribute("name",O).attribute("class","filter-by-value-operator").attribute("value","contains").attribute("id",b).attribute("checked").closeTag().startTag("label").attribute("for",b).content(l.filterOptionContains).closeTag().closeTag().startTag("div").attribute("class","field").startTag("input").attribute("type","checkbox").attribute("class","filter-option-ignore-case").attribute("id",d).attribute("checked").closeTag().startTag("label").attribute("for",d).content(l.filterOptionIgnoreTextCase).closeTag().closeTag().closeTag().closeTag().startTag("div").attribute("class","sub-section").startTag("div").attribute("class","section-content").startTag("div").attribute("class","field clear-filter-field").startTag("input").attribute("type","button").attribute("name","clear-filter-button").attribute("value",l.clearSearchFilters).closeTag().closeTag().startTag("label").attribute("class","filter-by-value-description").attribute("for",h).content(l.filterDescriptionContains).closeTag().closeTag().closeTag().closeTag().startTag("div").attribute("class","section filter-by-value-container").startTag("input").attribute("class","filter-by-value-value").attribute("id",h).closeTag().closeTag().startTag("div").attribute("class","section filter-by-cell-values-container").startTag("h5").attribute("class","section-title").content(l.filterTypeCellValue).closeTag().startTag("div").attribute("class","field").startTag("input").attribute("type","checkbox").attribute("name","select-all-cell-values").attribute("id",C).attribute("checked").closeTag().startTag("label").attribute("for",C).content(l.selectAll).closeTag().closeTag().startTag("ul").attribute("class","filter-by-cell-values"),g=0;g<y.length;++g)S=y[g],v=e+"columnValue_"+g,m.startTag("li").attribute("class","field").startTag("input").attribute("type","checkbox").attribute("checked").attribute("value",S).attribute("id",v).attribute("class","column-value").closeTag().startTag("label").attribute("for",v).content(S).closeTag().closeTag();for(m.closeTag(!0).closeTag(),t.insertAdjacentHTML("afterbegin",m.toString()),IE8Compatibility.addEventListener(t.querySelector("input.filter-by-value-value"),"keyup",this,!1),E=t.querySelectorAll(SimpleDataTableControl.CLICK_TARGETS_SELECTOR),g=0;g<E.length;++g)IE8Compatibility.addEventListener(E[g],"click",this,!1)},SimpleDataTableControl.ColumnValueFilter=function(t,e,i,a,l,r){"use strict";this.columnIndex=t,this.operator=e,this.compareValue=i,this.columnType=a,this.selectedValues=l,r&&(SimpleDataTableControl.checkCellInterpreter(r),this.cellInterpreter=r,this.currentCellCache=new ColumnValueSet)},SimpleDataTableControl.ColumnValueFilter.prototype.cellInterpreter=null,SimpleDataTableControl.ColumnValueFilter.prototype.currentCellCache=null,SimpleDataTableControl.ColumnValueFilter.prototype.include=function(t){"use strict";var e,i,a,l;if(e=this.cellInterpreter){for(i=this.currentCellCache,e.populateCellValues?e.populateCellValues(t,i):e(t,i),a=i.iterator();!(l=a.next()).done;)if(this.shouldInclude(l.value))return i.clear(),!0;return i.clear(),!1}return this.shouldInclude(IE8Compatibility.getTextContent(t).trim())},SimpleDataTableControl.ColumnValueFilter.prototype.shouldInclude=function(t){"use strict";var e,i;return e=SimpleDataTableUtils.shouldInclude(t,this.operator,this.compareValue,this.columnType),i=-1!==this.selectedValues.indexOf(t),e&&i},SimpleDataTableListener.processedColumnHeader="data-table-column-header",SimpleDataTableListener.prototype.tableHeaderCache=null,SimpleDataTableListener.prototype.sortDescriptorOrder=null,SimpleDataTableListener.prototype.columnControlFactory=null,SimpleDataTableListener.prototype.cellInterpreter=null,SimpleDataTableListener.prototype.init=function(){"use strict";var t,e,i,a;for(t=this.dataTable.getTableElement().tHead.rows[0].cells,e=this.tableHeaderCache=[],i=0;i<t.length;++i)a=t[i],IE8Compatibility.addEventListener(a,"click",this,!1),IE8Compatibility.addClass(a,SimpleDataTableListener.processedColumnHeader),e.push(a)},SimpleDataTableListener.prototype.dispose=function(){"use strict";var t,e,i,a,l;for(t=this.tableHeaderCache,e=0;e<t.length;++e)l=t[e],IE8Compatibility.removeEventListener(l,"click",this,!1),IE8Compatibility.removeClass(l,SimpleDataTableListener.processedColumnHeader);for(i=this.columnControls,e=0;e<i.length;++e)"function"==typeof(a=i[e]).dispose&&a.dispose()},SimpleDataTableListener.prototype.handleEvent=function(t){"use strict";var e,i;"click"===t.type?(i=IE8Compatibility.getEventTarget(t),-1!==(e=this.tableHeaderCache.indexOf(i))?this.openColumnControl(e):console&&console.warn&&(console.warn("Unrecognized event target."),console.warn(i))):console&&console.warn&&(console.warn("Unsupported event: "+t.type),console.warn(t))},SimpleDataTableListener.prototype.openColumnControl=function(t){"use strict";var e,i,a,l;for(e=this.getColumnControl(t),i=this.columnControls,l=0;l<i.length;++l)(a=i[l])===e?a.open():a.close()},SimpleDataTableListener.prototype.getColumnControl=function(t){"use strict";var e,i,a,l,r,o;if(t>(o=this.tableHeaderCache.length))throw new RangeError("The given columnIndex must be less than the number of columns in the backing table ("+o+"): "+t);for(e=this.columnControls,l=0;l<e.length;++l)if((a=e[l]).columnIndex===t)return a;return(r=this.columnControlFactory)&&(i="function"==typeof r.getColumnControl?r.getColumnControl(t,this):r(t,this)),"function"==typeof(i=i||new SimpleDataTableControl(t,this,this.cellInterpreter)).init&&i.init(),e.push(i),i},SimpleDataTableListener.prototype.processTable=function(){"use strict";var t,e,i,a,l,r,o,n,s,u,c,p;for(e=[],t=[],i=this.columnControls,a=0;a<i.length;++a)(o=(l=i[a]).getFilterDescriptor())&&e.push(o),(n=l.getSortDescriptor())&&t.push(n);for(s=(s=this.sortDescriptorOrder)||(this.sortDescriptorOrder=[]),a=0;a<t.length;++a)u=t[a].columnIndex,-1===s.indexOf(u)&&s.push(u);for(a=0;a<s.length;++a){for(u=s[a],p=-1,c=0;c<t.length;++c)if(t[c].columnIndex===u){p=c;break}-1===p&&(s.splice(a,1),--a)}t.sort(function(t,e){return s.indexOf(t.columnIndex)-s.indexOf(e.columnIndex)}),(r=this.dataTable).filter(e),r.sort(t)},SimpleDataTableListener.prototype.getDataTable=function(){"use strict";return this.dataTable},SimpleDataTableListener.prototype.getTableHeaderElement=function(t){"use strict";return this.dataTable.getTableElement().tHead.rows[0].cells[t]};var SimpleDataTableUtils={};function SimpleFilterDescriptor(t,e,i,a){"use strict";this.columnIndex=t,this.compareValue=e,i&&"="!==i&&(this.operation=i),a&&a!==SimpleDataTableUtils.COLUMN_TYPE_INFER&&(this.columnType=a)}function SimpleSortDescriptor(t,e,i){"use strict";this.columnIndex=t,e&&(this.descending=!0),i&&i!==SimpleDataTableUtils.COLUMN_TYPE_INFER&&(this.columnType=i)}function XMLBuilder(){"use strict";this.stack=[],this.state=XMLBuilder.STATE_INITIAL,this.text=XMLBuilder.useArray?[]:""}SimpleDataTableUtils.COLUMN_TYPE_TEXT=1,SimpleDataTableUtils.COLUMN_TYPE_INFER=2,SimpleDataTableUtils.FILTER_OP_CONTAINS=1,SimpleDataTableUtils.FILTER_OP_EQUALS=2,SimpleDataTableUtils.FILTER_OP_LESS_THAN=4,SimpleDataTableUtils.FILTER_OP_GREATER_THAN=8,SimpleDataTableUtils.FILTER_FLAG_IGNORE_CASE=16,SimpleDataTableUtils.FILTER_FLAG_NOT=32,SimpleDataTableUtils.getNumber=function(t,e){"use strict";return"number"==typeof t?t:/^\d+$/.test(t)?IE8Compatibility.parseInt(t):/^\d+(?:\.\d*)?(?:[eE]\d*)?$/.test(t)?IE8Compatibility.parseFloat(t):e?Number.NaN:t},SimpleDataTableUtils.shouldInclude=function(t,e,i,a){"use strict";var l,r,o,n,s,u,c;switch(c=e&SimpleDataTableUtils.FILTER_FLAG_IGNORE_CASE,a){case SimpleDataTableUtils.COLUMN_TYPE_TEXT:l=String(t),r=String(i),c&&(l=l.toUpperCase(),r=r.toUpperCase());break;case SimpleDataTableUtils.COLUMN_TYPE_INFER:default:l=SimpleDataTableUtils.getNumber(t,!1),r=SimpleDataTableUtils.getNumber(i,!1),c&&("string"==typeof l&&(l=l.toUpperCase()),"string"==typeof r&&(r=r.toUpperCase()))}if(o=e&SimpleDataTableUtils.FILTER_FLAG_NOT,n=e&(SimpleDataTableUtils.FILTER_OP_EQUALS|SimpleDataTableUtils.FILTER_OP_LESS_THAN|SimpleDataTableUtils.FILTER_OP_GREATER_THAN)){if(o&&(n=~n),n&SimpleDataTableUtils.FILTER_OP_EQUALS&&l==r)return!0;if(n&SimpleDataTableUtils.FILTER_OP_LESS_THAN&&l<r)return!0;if(n&SimpleDataTableUtils.FILTER_OP_GREATER_THAN&&r<l)return!0}return!!(e&SimpleDataTableUtils.FILTER_OP_CONTAINS&&(s=String(t),u=String(i),c&&(s=s.toUpperCase(),u=u.toUpperCase()),-1!==s.indexOf(u)))&&!o},SimpleFilterDescriptor.prototype.operation="=",SimpleFilterDescriptor.prototype.columnType=SimpleDataTableUtils.COLUMN_TYPE_INFER,SimpleFilterDescriptor.prototype.include=function(t){"use strict";var e,i;switch(this.operation){case"=":e=SimpleDataTableUtils.FILTER_OP_EQUALS;break;case">":e=SimpleDataTableUtils.FILTER_OP_GREATER_THAN;break;case"<":e=SimpleDataTableUtils.FILTER_OP_LESS_THAN;break;case">=":e=SimpleDataTableUtils.FILTER_OP_GREATER_THAN|SimpleDataTableUtils.FILTER_OP_EQUALS;break;case"<=":e=SimpleDataTableUtils.FILTER_OP_LESS_THAN|SimpleDataTableUtils.FILTER_OP_EQUALS;break;case"!=":e=SimpleDataTableUtils.FILTER_FLAG_NOT|SimpleDataTableUtils.FILTER_OP_EQUALS;break;case"~":e=SimpleDataTableUtils.FILTER_OP_CONTAINS|SimpleDataTableUtils.FILTER_FLAG_IGNORE_CASE;break;case"~~":e=SimpleDataTableUtils.FILTER_OP_CONTAINS}return i=IE8Compatibility.getTextContent(t).trim(),SimpleDataTableUtils.shouldInclude(i,e,this.compareValue,this.columnType)},SimpleSortDescriptor.prototype.descending=!1,SimpleSortDescriptor.prototype.columnType=SimpleDataTableUtils.COLUMN_TYPE_INFER,SimpleSortDescriptor.prototype.compare=function(t,e){"use strict";var i,a,l,r,o,n,s;switch(i=IE8Compatibility.getTextContent(t).trim(),a=IE8Compatibility.getTextContent(e).trim(),this.columnType){case SimpleDataTableUtils.COLUMN_TYPE_INFER:r=SimpleDataTableUtils.getNumber(i,!0),o=IE8Compatibility.isNaN(r),n=SimpleDataTableUtils.getNumber(a,!0),s=IE8Compatibility.isNaN(n),l=o&&s?i<a?-1:a<i?1:0:o?1:s?-1:r-n;break;case SimpleDataTableUtils.COLUMN_TYPE_TEXT:l=i<a?-1:a<i?1:0;break;default:l=0}return l?this.descending?-1*l:l:0},XMLBuilder.STATE_INITIAL=0,XMLBuilder.STATE_TAG=1,XMLBuilder.STATE_CONTENT=2,XMLBuilder.ESCAPE_CHARACTER_MAPPING={'"':"&quot;","&":"&amp;","'":"&apos;","<":"&lt;",">":"&gt;"},XMLBuilder.useArray=!1,XMLBuilder.escape=function(t){"use strict";var e,i,a,l;if(!(e=/["&'<>]/g).test(t))return t;for(i=e.lastIndex=0,a=null,l="";null!=(a=e.exec(t));)l+=t.substring(i,e.lastIndex-1),l+=XMLBuilder.ESCAPE_CHARACTER_MAPPING[a[0]],i=e.lastIndex;return l+=t.substring(i)},XMLBuilder.prototype.startTag=function(t){"use strict";var e;return this.state==XMLBuilder.STATE_TAG&&this.appendDirect(">"),e=XMLBuilder.escape(t),this.appendDirect("<"+e),this.state=XMLBuilder.STATE_TAG,this.stack.push(e),this},XMLBuilder.prototype.attribute=function(t,e){"use strict";var i,a;if(this.state!=XMLBuilder.STATE_TAG)throw new Error("Invalid state.");return i=XMLBuilder.escape(t),e?(a=XMLBuilder.escape(e),this.appendDirect(" "+i+'="'+a+'"')):this.appendDirect(" "+i),this},XMLBuilder.prototype.content=function(t){"use strict";return this.state==XMLBuilder.STATE_TAG&&this.appendDirect(">"),this.appendDirect(XMLBuilder.escape(t)),this.state=XMLBuilder.STATE_CONTENT,this},XMLBuilder.prototype.closeTag=function(t){"use strict";var e,i,a;if(!(e=this.stack).length)throw new Error("Invalid state.");if(i=e.pop(),a=this.state,t)a===XMLBuilder.STATE_TAG&&this.appendDirect(">"),this.appendDirect("</"+i+">");else if(a===XMLBuilder.STATE_CONTENT)this.appendDirect("</"+i+">");else{if(a!==XMLBuilder.STATE_TAG)throw new Error("Invalid state.");this.appendDirect(" />")}return this.state=e.length?XMLBuilder.STATE_CONTENT:XMLBuilder.STATE_INITIAL,this},XMLBuilder.prototype.appendDirect=function(t){"use strict";return XMLBuilder.useArray?this.text.push(t):this.text+=t,this},XMLBuilder.prototype.clear=function(){"use strict";XMLBuilder.useArray?this.text=[]:this.text=""},XMLBuilder.prototype.toString=function(){"use strict";return XMLBuilder.useArray?this.text.join(""):this.text};